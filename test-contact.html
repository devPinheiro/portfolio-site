<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form Test - Samuel Pinheiro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            background: #000; 
            color: #fff; 
            font-family: Arial, sans-serif; 
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-8">
    <div class="max-w-md w-full space-y-8">
        <div class="text-center">
            <h1 class="text-4xl font-light tracking-tight mb-4">Contact Form Test</h1>
            <p class="text-gray-400">Testing the contact form functionality</p>
        </div>

        <form id="contactForm" class="space-y-6">
            <div>
                <label for="name" class="block text-sm font-normal tracking-wide text-gray-400 mb-3">
                    Name *
                </label>
                <input
                    type="text"
                    id="name"
                    name="name"
                    required
                    class="w-full bg-transparent border-b border-gray-600 py-4 px-0 text-white placeholder-gray-500 focus:border-white focus:outline-none transition-colors duration-300"
                    placeholder="Your full name"
                />
                <div class="error-message text-red-400 text-sm mt-2 hidden"></div>
            </div>

            <div>
                <label for="email" class="block text-sm font-normal tracking-wide text-gray-400 mb-3">
                    Email *
                </label>
                <input
                    type="email"
                    id="email"
                    name="email"
                    required
                    class="w-full bg-transparent border-b border-gray-600 py-4 px-0 text-white placeholder-gray-500 focus:border-white focus:outline-none transition-colors duration-300"
                    placeholder="your@email.com"
                />
                <div class="error-message text-red-400 text-sm mt-2 hidden"></div>
            </div>

            <div>
                <label for="company" class="block text-sm font-normal tracking-wide text-gray-400 mb-3">
                    Company
                </label>
                <input
                    type="text"
                    id="company"
                    name="company"
                    class="w-full bg-transparent border-b border-gray-600 py-4 px-0 text-white placeholder-gray-500 focus:border-white focus:outline-none transition-colors duration-300"
                    placeholder="Your company name"
                />
            </div>

            <div>
                <label for="message" class="block text-sm font-normal tracking-wide text-gray-400 mb-3">
                    Message *
                </label>
                <textarea
                    id="message"
                    name="message"
                    required
                    rows="4"
                    class="w-full bg-transparent border-b border-gray-600 py-4 px-0 text-white placeholder-gray-500 focus:border-white focus:outline-none transition-colors duration-300 resize-none"
                    placeholder="Tell me about your project..."
                ></textarea>
                <div class="error-message text-red-400 text-sm mt-2 hidden"></div>
            </div>

            <div class="space-y-4">
                <div id="status-message" class="hidden"></div>
                
                <button
                    type="submit"
                    id="submitBtn"
                    class="w-full bg-transparent border border-white px-8 py-4 text-white font-normal tracking-wider uppercase text-sm hover:bg-white hover:text-black transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                    <span id="buttonText">Send Message</span>
                </button>
            </div>
        </form>
    </div>

    <script>
        const form = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const buttonText = document.getElementById('buttonText');
        const statusMessage = document.getElementById('status-message');

        // Simple email validation
        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        // Clear error messages
        function clearErrors() {
            document.querySelectorAll('.error-message').forEach(el => {
                el.textContent = '';
                el.classList.add('hidden');
            });
        }

        // Show error message
        function showError(fieldName, message) {
            const field = document.querySelector(`[name="${fieldName}"]`);
            const errorEl = field.nextElementSibling;
            errorEl.textContent = message;
            errorEl.classList.remove('hidden');
            field.classList.remove('border-gray-600');
            field.classList.add('border-red-500');
        }

        // Validate form
        function validateForm(formData) {
            clearErrors();
            let isValid = true;

            if (!formData.name.trim()) {
                showError('name', 'Name is required');
                isValid = false;
            }

            if (!formData.email.trim()) {
                showError('email', 'Email is required');
                isValid = false;
            } else if (!isValidEmail(formData.email)) {
                showError('email', 'Please enter a valid email address');
                isValid = false;
            }

            if (!formData.message.trim()) {
                showError('message', 'Message is required');
                isValid = false;
            } else if (formData.message.trim().length < 10) {
                showError('message', 'Message must be at least 10 characters long');
                isValid = false;
            }

            return isValid;
        }

        // Show status message
        function showStatus(message, isSuccess = true) {
            statusMessage.textContent = message;
            statusMessage.className = `p-3 rounded ${isSuccess ? 'bg-green-900 text-green-400' : 'bg-red-900 text-red-400'}`;
            statusMessage.classList.remove('hidden');
        }

        // Simulate email sending (for development)
        async function sendEmail(data) {
            console.log('Sending email:', data);
            
            // Simulate network delay
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // Simulate 90% success rate
            if (Math.random() > 0.1) {
                return { success: true, message: 'Message sent successfully!' };
            } else {
                throw new Error('Simulated network error');
            }
        }

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const formData = {
                name: form.name.value,
                email: form.email.value,
                company: form.company.value,
                message: form.message.value
            };

            if (!validateForm(formData)) {
                return;
            }

            // Update button state
            submitBtn.disabled = true;
            buttonText.textContent = 'Sending...';
            statusMessage.classList.add('hidden');

            try {
                const result = await sendEmail(formData);
                
                showStatus(result.message, true);
                form.reset();
                buttonText.textContent = 'Sent!';
                
                setTimeout(() => {
                    buttonText.textContent = 'Send Message';
                    submitBtn.disabled = false;
                    statusMessage.classList.add('hidden');
                }, 3000);
                
            } catch (error) {
                console.error('Error:', error);
                showStatus(error.message || 'Something went wrong. Please try again.', false);
                buttonText.textContent = 'Send Message';
                submitBtn.disabled = false;
            }
        });

        // Reset field styles when typing
        form.addEventListener('input', (e) => {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                e.target.classList.remove('border-red-500');
                e.target.classList.add('border-gray-600');
                const errorEl = e.target.nextElementSibling;
                if (errorEl && errorEl.classList.contains('error-message')) {
                    errorEl.classList.add('hidden');
                }
            }
        });
    </script>
</body>
</html>